{"version":3,"sources":["../../src/utilities/mail-sender-forgotten-psw.js"],"names":["sendPasswordResetMail","userEmail","forgottenPswToken","transporter","nodemailer","createTransport","service","auth","user","process","env","MAILER_USER","pass","MAILER_PASSWORD","mailOptions","from","to","subject","text","sendMail","error","info","console","log","response"],"mappings":";;;;;;;;;AAAA;;AAEA,IAAMA,qBAAqB,GAAG,SAAxBA,qBAAwB,CAAUC,SAAV,EAAqBC,iBAArB,EAAwC;AAEpE,MAAIC,WAAW,GAAGC,uBAAWC,eAAX,CAA2B;AAC3CC,IAAAA,OAAO,EAAE,OADkC;AAE3CC,IAAAA,IAAI,EAAE;AACJC,MAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,WADd;AAEJC,MAAAA,IAAI,EAAEH,OAAO,CAACC,GAAR,CAAYG;AAFd;AAFqC,GAA3B,CAAlB;;AAQA,MAAIC,WAAW,GAAG;AAChBC,IAAAA,IAAI,EAAEN,OAAO,CAACC,GAAR,CAAYC,WADF;AAEhBK,IAAAA,EAAE,EAAEf,SAFY;AAGhBgB,IAAAA,OAAO,EAAE,qBAHO;AAIhBC,IAAAA,IAAI,EAAE,mBACF,8GADE,GAEAhB,iBAFA,GAEoB,MAFpB,GAGF;AAPY,GAAlB;AAUAC,EAAAA,WAAW,CAACgB,QAAZ,CAAqBL,WAArB,EAAkC,UAAUM,KAAV,EAAiBC,IAAjB,EAAuB;AACvD,QAAID,KAAJ,EAAW;AACTE,MAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACD,KAFD,MAEO;AACLE,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAiBF,IAAI,CAACG,QAAlC;AACD;AACF,GAND;AAOD,CA3BD;;eA6BexB,qB","sourcesContent":["import nodemailer from 'nodemailer';\n\nconst sendPasswordResetMail = function (userEmail, forgottenPswToken) {\n\n  let transporter = nodemailer.createTransport({\n    service: 'gmail',\n    auth: {\n      user: process.env.MAILER_USER,\n      pass: process.env.MAILER_PASSWORD\n    }\n  });\n\n  let mailOptions = {\n    from: process.env.MAILER_USER,\n    to: userEmail,\n    subject: 'Password reset link',\n    text: 'Dear user,\\n\\n' +\n        'please finish the password reset process at this link: http://localhost:3000/forgotten-password/reset?token='\n        + forgottenPswToken + '\\n\\n' +\n        'Runtime Terror Team'\n  };\n\n  transporter.sendMail(mailOptions, function (error, info) {\n    if (error) {\n      console.log(error);\n    } else {\n      console.log('Email sent: ' + info.response);\n    }\n  });\n};\n\nexport default sendPasswordResetMail;"],"file":"mail-sender-forgotten-psw.js"}