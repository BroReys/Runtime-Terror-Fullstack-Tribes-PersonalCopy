{"version":3,"sources":["../../src/utilities/mail-sender.js"],"names":["sendMail","userEmail","confirmationToken","transporter","nodemailer","createTransport","service","auth","user","process","env","MAILER_USER","pass","MAILER_PASSWORD","mailOptions","from","to","subject","text","error","info","console","log","response"],"mappings":";;;;;;;;;AAAA;;AAEA,IAAMA,QAAQ,GAAG,SAAXA,QAAW,CAAUC,SAAV,EAAqBC,iBAArB,EAAwC;AAEvD,MAAIC,WAAW,GAAGC,uBAAWC,eAAX,CAA2B;AAC3CC,IAAAA,OAAO,EAAE,OADkC;AAE3CC,IAAAA,IAAI,EAAE;AACJC,MAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,WADd;AAEJC,MAAAA,IAAI,EAAEH,OAAO,CAACC,GAAR,CAAYG;AAFd;AAFqC,GAA3B,CAAlB;;AAQA,MAAIC,WAAW,GAAG;AAChBC,IAAAA,IAAI,EAAEN,OAAO,CAACC,GAAR,CAAYC,WADF;AAEhBK,IAAAA,EAAE,EAAEf,SAFY;AAGhBgB,IAAAA,OAAO,EAAE,yCAHO;AAIhBC,IAAAA,IAAI,EAAE,0BACF,uHADE,GAEAhB,iBAFA,GAEoB,MAFpB,GAGF;AAPY,GAAlB;AAUAC,EAAAA,WAAW,CAACH,QAAZ,CAAqBc,WAArB,EAAkC,UAAUK,KAAV,EAAiBC,IAAjB,EAAuB;AACvD,QAAID,KAAJ,EAAW;AACTE,MAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACD,KAFD,MAEO;AACLE,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAiBF,IAAI,CAACG,QAAlC;AACD;AACF,GAND;AAOD,CA3BD;;eA6BevB,Q","sourcesContent":["import nodemailer from 'nodemailer';\n\nconst sendMail = function (userEmail, confirmationToken) {\n\n  let transporter = nodemailer.createTransport({\n    service: 'gmail',\n    auth: {\n      user: process.env.MAILER_USER,\n      pass: process.env.MAILER_PASSWORD\n    }\n  });\n\n  let mailOptions = {\n    from: process.env.MAILER_USER,\n    to: userEmail,\n    subject: 'Potvrzení registrace Runtime Terror App',\n    text: 'Vážený uživateli,\\n\\n' +\n        'potvrďte prosím svou registraci kliknutím na tento odkaz: http://localhost:3000/registration/confirmation?activation='\n        + confirmationToken + '\\n\\n' +\n        'Runtime Terror Team'\n  };\n\n  transporter.sendMail(mailOptions, function (error, info) {\n    if (error) {\n      console.log(error);\n    } else {\n      console.log('Email sent: ' + info.response);\n    }\n  });\n};\n\nexport default sendMail;"],"file":"mail-sender.js"}