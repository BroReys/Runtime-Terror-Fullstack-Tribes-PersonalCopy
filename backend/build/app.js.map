{"version":3,"sources":["../src/app.js"],"names":["app","use","express","json","urlencoded","extended","User_router","loginMiddleware","winnerMiddleware","resourcesMiddleware","battleMiddleware","settleMiddleware","banditsMiddleware","Kingdom_router","ChatRouter","Map_router","Troops_router","Building_router","BattleRouter","Settlers_Router","Unit_level_router","Leaderboard_router","listen","process","env","PORT"],"mappings":";;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,GAAG,GAAG,0BAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQ,uBAAR;AACA;AACAD,GAAG,CAACC,GAAJ,CAAQC,oBAAQC,IAAR,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQ,+BAAR;AACAD,GAAG,CAACC,GAAJ,CAAQC,oBAAQE,UAAR,CAAmB;AAACC,EAAAA,QAAQ,EAAE;AAAX,CAAnB,CAAR;AACAL,GAAG,CAACC,GAAJ,CAAQK,sBAAR,E,CACA;;AACAN,GAAG,CAACC,GAAJ,CAAQM,2BAAR,E,CACA;;AACAP,GAAG,CAACC,GAAJ,CAAQO,4BAAR;AACAR,GAAG,CAACC,GAAJ,CAAQQ,+BAAR;AACAT,GAAG,CAACC,GAAJ,CAAQS,4BAAR;AACAV,GAAG,CAACC,GAAJ,CAAQU,8BAAR;AACAX,GAAG,CAACC,GAAJ,CAAQW,6BAAR;AACAZ,GAAG,CAACC,GAAJ,CAAQY,yBAAR;AACAb,GAAG,CAACC,GAAJ,CAAQa,sBAAR;AACAd,GAAG,CAACC,GAAJ,CAAQc,qBAAR;AACAf,GAAG,CAACC,GAAJ,CAAQe,wBAAR;AACAhB,GAAG,CAACC,GAAJ,CAAQgB,0BAAR;AACAjB,GAAG,CAACC,GAAJ,CAAQiB,wBAAR;AACAlB,GAAG,CAACC,GAAJ,CAAQkB,0BAAR;AACAnB,GAAG,CAACC,GAAJ,CAAQmB,2BAAR;AACApB,GAAG,CAACC,GAAJ,CAAQoB,6BAAR;AACArB,GAAG,CAACsB,MAAJ,CAAWC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAA/B","sourcesContent":["import 'dotenv/config';\nimport express from 'express';\nimport User_router from \"./routes/user-router\";\nimport createRelationships from \"./config/sql-relationships\";\nimport ChatRouter from \"./routes/chat-router\";\nimport resourcesMiddleware from \"./middlewares/resources-middleware\";\nimport winnerMiddleware from \"./middlewares/winner-middleware\";\nimport Map_router from \"./routes/map-router\";\nimport cookieParser from 'cookie-parser'\nimport Kingdom_router from \"./routes/kingdom-router\";\nimport Troops_router from \"./routes/troops-router\";\nimport Building_router from \"./routes/building-router\";\nimport BattleRouter from \"./routes/battle-router\";\nimport Unit_level_router from \"./routes/unit-level-router\";\nimport Leaderboard_router from \"./routes/leaderboard-router\";\nimport battleMiddleware from \"./middlewares/battle-middleware\";\nimport loginMiddleware from \"./middlewares/login-middleware\";\nimport Settlers_Router from \"./routes/settlers-router\";\nimport settleMiddleware from \"./middlewares/settlers-middleware\";\nimport banditsMiddleware from \"./middlewares/bandits-middleware\";\nimport cors from \"cors\";\n\nconst app = express();\n\napp.use(cors())\ncreateRelationships();\napp.use(express.json());\napp.use(cookieParser());\napp.use(express.urlencoded({extended: true}));\napp.use(User_router);\n// ↑↑↑↑↑↑↑↑↑↑↑ everything without login\napp.use(loginMiddleware);\n// ↓↓↓↓↓↓↓↓↓↓↓ only for logged in users\napp.use(winnerMiddleware);\napp.use(resourcesMiddleware);\napp.use(battleMiddleware);\napp.use(settleMiddleware);\napp.use(banditsMiddleware);\napp.use(Kingdom_router);\napp.use(ChatRouter);\napp.use(Map_router);\napp.use(Troops_router);\napp.use(Building_router);\napp.use(BattleRouter);\napp.use(Settlers_Router);\napp.use(Unit_level_router);\napp.use(Leaderboard_router);\napp.listen(process.env.PORT || 3000);\n"],"file":"app.js"}