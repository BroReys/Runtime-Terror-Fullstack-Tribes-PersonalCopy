{"version":3,"sources":["../../src/services/map-service.js"],"names":["mapSize","board_size","identifyKingdom","coordinateX","coordinateY","error","Number","isSafeInteger","Map","get","map","result","kingdom","username","name"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;;;;;;;AAEA,IAAMA,OAAO,GAAG,kBAAM,CAAN,EAASC,UAAzB;;AAEA,IAAMC,eAAe;AAAA,2FAAG,iBAAOC,WAAP,EAAoBC,WAApB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAChBC,YAAAA,KADgB,GACR,oDADQ;;AAAA,kBAGhB,CAACC,MAAM,CAACC,aAAP,CAAqBJ,WAArB,CAAD,IAAsC,CAACG,MAAM,CAACC,aAAP,CAAqBH,WAArB,CAHvB;AAAA;AAAA;AAAA;;AAAA,6CAIT;AAAC,uBAASC;AAAV,aAJS;;AAAA;AAAA,kBAOhBF,WAAW,IAAI,IAAf,IAAuBC,WAAW,IAAI,IAPtB;AAAA;AAAA;AAAA;;AAAA,6CAQT;AAAC,uBAASC;AAAV,aARS;;AAAA;AAAA,kBAYhBF,WAAW,IAAIH,OAAf,IAA0BG,WAAW,GAAG,CAAxC,IAA6CC,WAAW,IAAIJ,OAA5D,IAAuEI,WAAW,GAAG,CAZrE;AAAA;AAAA;AAAA;;AAAA,6CAaT;AAAC,uBAASC;AAAV,aAbS;;AAAA;AAAA;AAAA,mBAgBJG,gBAAIC,GAAJ,EAhBI;;AAAA;AAgBhBC,YAAAA,GAhBgB;AAiBhBC,YAAAA,MAjBgB,GAiBP;AAAC,0BAAY,IAAb;AAAmB,6BAAe,IAAlC;AAAwC,wBAAU;AAAlD,aAjBO;AAAA,mDAkBED,GAlBF;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAkBTE,YAAAA,OAlBS;;AAAA,kBAmBZA,OAAO,CAACT,WAAR,KAAwBA,WAAxB,IAAuCS,OAAO,CAACR,WAAR,KAAwBA,WAnBnD;AAAA;AAAA;AAAA;;AAoBZO,YAAAA,MAAM,GAAG;AAAC,0BAAYC,OAAO,CAACC,QAArB;AAA+B,6BAAeD,OAAO,CAACE,IAAtD;AAA4D,wBAAU;AAAtE,aAAT;AApBY,6CAqBLH,MArBK;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA,6CAwBbA,MAxBa;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAfT,eAAe;AAAA;AAAA;AAAA,GAArB;;eA2Be;AACXA,EAAAA,eAAe,EAAfA;AADW,C","sourcesContent":["import {rules} from \"../rules/rules\";\nimport Map from \"../models/map\";\n\nconst mapSize = rules(1).board_size;\n\nconst identifyKingdom = async (coordinateX, coordinateY) => {\n    let error = \"One or both provided coordinates are out of range!\";\n\n    if (!Number.isSafeInteger(coordinateX) || !Number.isSafeInteger(coordinateY)) {\n        return {\"error\": error};\n    }\n\n    if (coordinateX == null || coordinateY == null) {\n        return {\"error\": error};\n    }\n\n    //TODO >= mapSize\n    if (coordinateX >= mapSize || coordinateX < 0 || coordinateY >= mapSize || coordinateY < 0) {\n        return {\"error\": error};\n    }\n\n    let map = await Map.get();\n    let result = {\"username\": null, \"kingdomName\": null, \"status\": \"free\"};\n    for (const kingdom of map) {\n        if (kingdom.coordinateX === coordinateX && kingdom.coordinateY === coordinateY) {\n            result = {\"username\": kingdom.username, \"kingdomName\": kingdom.name, \"status\": \"taken\"};\n            return result;\n        }\n    }\n    return result;\n}\n\nexport default {\n    identifyKingdom\n}"],"file":"map-service.js"}