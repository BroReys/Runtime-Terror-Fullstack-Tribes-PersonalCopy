{"version":3,"sources":["../../src/middlewares/settlers-middleware.js"],"names":["settleMiddleware","req","res","next","SettleService","findArrivedSettlers","arrivedSettlers","findReturnedSettlers","returnedSettlers","tileCheckOfArrivedSettlers","setPropertiesOfReturnedSettlers"],"mappings":";;;;;;;;;;;;;AAAA;;AAEA,IAAMA,gBAAgB;AAAA,2FAAG,iBAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEKC,0BAAcC,mBAAd,EAFL;;AAAA;AAEnBC,YAAAA,eAFmB;AAAA;AAAA,mBAGMF,0BAAcG,oBAAd,EAHN;;AAAA;AAGnBC,YAAAA,gBAHmB;;AAAA,iBAKnBF,eALmB;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAMfF,0BAAcK,0BAAd,CAAyCH,eAAzC,CANe;;AAAA;AAAA,iBAUnBE,gBAVmB;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAWfJ,0BAAcM,+BAAd,CAA8CF,gBAA9C,CAXe;;AAAA;AAevBL,YAAAA,IAAI;;AAfmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAhBH,gBAAgB;AAAA;AAAA;AAAA,GAAtB;;eAkBeA,gB","sourcesContent":["import SettleService from \"../services/settle-service\";\n\nconst settleMiddleware = async (req, res, next) => {\n\n  let arrivedSettlers = await SettleService.findArrivedSettlers();\n  let returnedSettlers = await SettleService.findReturnedSettlers();\n\n  if (arrivedSettlers) {\n    await SettleService.tileCheckOfArrivedSettlers(arrivedSettlers);\n\n  }\n\n  if (returnedSettlers) {\n    await SettleService.setPropertiesOfReturnedSettlers(returnedSettlers);\n\n  }\n\n  next();\n}\n\nexport default settleMiddleware;\n"],"file":"settlers-middleware.js"}